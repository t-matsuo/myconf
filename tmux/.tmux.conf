# カラーコード確認コマンド
# for i in {1..255}; do printf "\x1b[38;5;${i}mcolor%-3d - ███    " $i;[ $((${i}%6)) -eq 3 ] && echo; done

# Prefixを "Ctrl-o" に変更
set-option -g prefix C-o
unbind-key C-b
bind-key C-o send-prefix

# Ctrl-o Ctrl-cでWindowを作成
bind ^c new-window

# Ctrl-o Ctrl-X でもWindowを移動
bind ^o last-window
bind ^n next-window
bind ^p previous-window

# exmacからviモードに変更
set-window-option -g mode-keys vi

# Windowを分割している時、Ctrl+h, Ctrl+j, Ctrl+k, Ctrl+lでPaneを移動
bind ^h select-pane -L
bind ^j select-pane -D
bind ^k select-pane -U
bind ^l select-pane -R

# Windowを分割している場合、H, J, K, Lでサイズを変更
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# | でタテ分割, - で横分割
bind | split-window -h
bind - split-window -v

# ウィンドウの番号を 1 から開始
# set -g base-index 1

# マウスでウィンドウ・ペインの切り替えやリサイズを可能にする (tmux 2.1以降)
# ~/.minttyrc に AllowSetSelection=yes を記載しないと選択でコピーができないので注意
set-option -g mouse on

# マウスホイールでヒストリではなくスクロールできるようにする
set-option -g mouse on
set-option -g terminal-overrides 'xterm*:smcup@:rmcup@'

# ステータスバーの背景色を変更する
set-option -g status-bg "colour255"

# コピーモードのキー操作をviライクにする
set-window-option -g mode-keys vi

# コピー時にvで選択
bind -T copy-mode-vi v send-keys -X begin-selection

# y or Enter でコピー
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "pbcopy"

# message表示時のstatus lineの色。dispaly,confirm-before -p などのコマンド出力の色
set-option -g message-style fg=colour68,reverse,bg=brightwhite

# paneを区切っている線の色
# set -g pane-active-border-style fg=colour111,bg=colour236
# set -g pane-border-style fg=colour111,bg=colour236

# Ctrl-o Ctrl-i でペインをローテーションしながら移動
bind ^i select-pane -t :.+

# スクロールバッファサイズ(行)
set-option -g history-limit 30000

# コピーした際にWindowsのクリップボードにも転送する (xsel コマンドが必要)
# bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xsel -bi"

# アクティブなウィンドウの番号を目立たせる
setw -g window-status-current-style fg=white,bg=red,bright

# ステータスライン
# 現在のウィンドウのディレクトリを表示
set-option -g window-status-format '#{window_index} #{b:pane_current_path}'
# ステータスバーの更新間隔
set -g status-interval 5

